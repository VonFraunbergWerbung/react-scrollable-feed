{"version":3,"sources":["../../dist/index.es.js","random-color-generator.js","App.js","index.js"],"names":["_extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","styles","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","styleInject","index_es","_super","ScrollableFeed","props","_this","call","this","bottomRef","node_modules_react","wrapperRef","handleScroll","bind","__","constructor","prototype","create","__extends","getSnapshotBeforeUpdate","current","viewableDetectionEpsilon","isViewable","componentDidUpdate","previousProps","_a","snapshot","_b","forceScroll","changeDetectionFilter","scrollParentToChild","componentDidMount","parent","child","parentRect","getBoundingClientRect","scrollOffset","top","scrollTop","animateScroll","onScrollComplete","epsilon","childRect","childTopIsViewable","childBottomIsViewable","Math","abs","clientHeight","onScroll","render","children","className","joinedClassName","defaultProps","element","offset","scrollBy","RandomColorGenerator","classCallCheck","createClass","key","value","index","floor","random","colors","length","App","state","items","createItem","interval","undefined","timestamp","Date","toISOString","color","get","_this2","setState","prevState","toConsumableArray","concat","clearInterval","_","_this3","setInterval","addItem","intervalDelay","_this4","_this$state","react_default","a","map","item","i","backgroundColor","onClick","pause","resume","clear","Component","ReactDOM","App_App","getElementById"],"mappings":"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","file":"static/js/main.2021097a.chunk.js","sourcesContent":["import { createElement, createRef, Component } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \".styles_scrollable-div__1DOyU {\\r\\n  max-height: inherit;\\r\\n  height: inherit;\\r\\n  overflow-y: auto;\\r\\n}\\r\\n\";\nvar styles = {\n  \"scrollable-div\": \"styles_scrollable-div__1DOyU\",\n  \"scrollableDiv\": \"styles_scrollable-div__1DOyU\"\n};\nstyleInject(css);\n\nvar ScrollableFeed =\n/** @class */\nfunction (_super) {\n  __extends(ScrollableFeed, _super);\n\n  function ScrollableFeed(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.bottomRef = createRef();\n    _this.wrapperRef = createRef();\n    _this.handleScroll = _this.handleScroll.bind(_this);\n    return _this;\n  }\n\n  ScrollableFeed.prototype.getSnapshotBeforeUpdate = function () {\n    if (this.wrapperRef.current && this.bottomRef.current) {\n      var viewableDetectionEpsilon = this.props.viewableDetectionEpsilon;\n      return ScrollableFeed.isViewable(this.wrapperRef.current, this.bottomRef.current, viewableDetectionEpsilon); //This argument is passed down to componentDidUpdate as 3rd parameter\n    }\n\n    return false;\n  };\n\n  ScrollableFeed.prototype.componentDidUpdate = function (previousProps, _a, snapshot) {\n    var _b = this.props,\n        forceScroll = _b.forceScroll,\n        changeDetectionFilter = _b.changeDetectionFilter;\n    var isValidChange = changeDetectionFilter(previousProps, this.props);\n\n    if (isValidChange && (forceScroll || snapshot) && this.bottomRef.current && this.wrapperRef.current) {\n      this.scrollParentToChild(this.wrapperRef.current, this.bottomRef.current);\n    }\n  };\n\n  ScrollableFeed.prototype.componentDidMount = function () {\n    //Scroll to bottom from the start\n    if (this.bottomRef.current && this.wrapperRef.current) {\n      this.scrollParentToChild(this.wrapperRef.current, this.bottomRef.current);\n    }\n  };\n  /**\r\n   * Scrolls a parent element such that the child element will be in view\r\n   * @param parent\r\n   * @param child\r\n   */\n\n\n  ScrollableFeed.prototype.scrollParentToChild = function (parent, child) {\n    var viewableDetectionEpsilon = this.props.viewableDetectionEpsilon;\n\n    if (!ScrollableFeed.isViewable(parent, child, viewableDetectionEpsilon)) {\n      //Source: https://stackoverflow.com/a/45411081/6316091\n      var parentRect = parent.getBoundingClientRect();\n      var childRect = child.getBoundingClientRect(); //Scroll by offset relative to parent\n\n      var scrollOffset = childRect.top + parent.scrollTop - parentRect.top;\n      var _a = this.props,\n          animateScroll = _a.animateScroll,\n          onScrollComplete = _a.onScrollComplete;\n\n      if (animateScroll) {\n        animateScroll(parent, scrollOffset);\n        onScrollComplete();\n      }\n    }\n  };\n  /**\r\n   * Returns whether a child element is visible within a parent element\r\n   * @param parent\r\n   * @param child\r\n   * @param epsilon\r\n   */\n\n\n  ScrollableFeed.isViewable = function (parent, child, epsilon) {\n    epsilon = epsilon || 0; //Source: https://stackoverflow.com/a/45411081/6316091\n\n    var parentRect = parent.getBoundingClientRect();\n    var childRect = child.getBoundingClientRect();\n    var childTopIsViewable = childRect.top >= parentRect.top;\n    var childBottomIsViewable = Math.abs(parentRect.top + parent.clientHeight - childRect.top) <= epsilon; //Use epsilon because getBoundingClientRect might return floats https://stackoverflow.com/a/40879359/6316091\n\n    return childTopIsViewable && childBottomIsViewable;\n  };\n  /**\r\n   * Fires the onScroll event, sending isAtBottom boolean as its first parameter\r\n   */\n\n\n  ScrollableFeed.prototype.handleScroll = function () {\n    var _a = this.props,\n        viewableDetectionEpsilon = _a.viewableDetectionEpsilon,\n        onScroll = _a.onScroll;\n\n    if (onScroll && this.bottomRef.current && this.wrapperRef.current) {\n      var isAtBottom = ScrollableFeed.isViewable(this.wrapperRef.current, this.bottomRef.current, viewableDetectionEpsilon);\n      onScroll(isAtBottom);\n    }\n  };\n\n  ScrollableFeed.prototype.render = function () {\n    var _a = this.props,\n        children = _a.children,\n        className = _a.className;\n    var joinedClassName = styles.scrollableDiv + (className ? \" \" + className : \"\");\n    return createElement(\"div\", {\n      className: joinedClassName,\n      ref: this.wrapperRef,\n      onScroll: this.handleScroll\n    }, children, createElement(\"div\", {\n      ref: this.bottomRef\n    }));\n  };\n\n  ScrollableFeed.defaultProps = {\n    forceScroll: false,\n    animateScroll: function animateScroll(element, offset) {\n      if (element.scrollBy) {\n        element.scrollBy({\n          top: offset\n        });\n      } else {\n        element.scrollTop = offset;\n      }\n    },\n    onScrollComplete: function onScrollComplete() {},\n    changeDetectionFilter: function changeDetectionFilter() {\n      return true;\n    },\n    viewableDetectionEpsilon: 2,\n    onScroll: function onScroll() {}\n  };\n  return ScrollableFeed;\n}(Component);\n\nexport default ScrollableFeed;","export class RandomColorGenerator {\r\n  //See https://sashat.me/2017/01/11/list-of-20-simple-distinct-colors/\r\n  static colors = ['#e6194B', '#3cb44b', '#ffe119', '#4363d8', '#f58231', '#42d4f4', '#f032e6', '#fabebe', '#469990', '#e6beff', '#9A6324', '#fffac8', '#800000', '#aaffc3', '#000075', '#a9a9a9', '#000000'];\r\n  \r\n  static get() {\r\n    const index = Math.floor(Math.random() * RandomColorGenerator.colors.length);\r\n    return RandomColorGenerator.colors[index];\r\n  }\r\n}","import React, { Component } from 'react';\r\n\r\nimport ScrollableFeed from 'react-scrollable-feed';\r\nimport { RandomColorGenerator } from './random-color-generator';\r\n\r\nexport default class App extends Component {\r\n\r\n  static intervalDelay = 800;\r\n\r\n  state = {\r\n    items: [\r\n      this.createItem(),\r\n      this.createItem(),\r\n      this.createItem(),\r\n      this.createItem(),\r\n    ],\r\n    interval: undefined,\r\n  };\r\n\r\n  createItem() {\r\n    return {\r\n      timestamp: new Date().toISOString(),\r\n      color: RandomColorGenerator.get(),\r\n    }\r\n  }\r\n\r\n  addItem() {\r\n    this.setState(prevState => ({\r\n      items: [...prevState.items, this.createItem()]\r\n    }));\r\n  }\r\n\r\n  pause() {\r\n    clearInterval(this.state.interval);\r\n    this.setState(_ => ({\r\n      interval: undefined\r\n    }));\r\n  }\r\n\r\n  resume() {\r\n    const interval = setInterval(() => {\r\n      this.addItem();\r\n    }, App.intervalDelay);\r\n    this.setState(_ => ({\r\n      interval\r\n    }));\r\n  }\r\n\r\n  clear() {\r\n    this.setState(_ => ({\r\n      items: []\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { items, interval } = this.state;\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row d-flex justify-content-center mt-5\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card\">\r\n              <div className=\"card-body scrollable-wrapper pt-0 pb-0 mt-2\">\r\n                <ScrollableFeed>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    {items.map((item, i) => (\r\n                      <li key={i} className=\"list-group-item\">\r\n                        <span className=\"dot mr-2\" style={{ backgroundColor: item.color }}></span>{item.timestamp}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </ScrollableFeed>\r\n              </div>\r\n              <div className=\"text-center\">\r\n                <p>{items.length} items</p>\r\n                <button onClick={() => this.addItem()} type=\"button\" className=\"btn btn-primary m-2\">Add Item</button>\r\n                {interval ? (\r\n                  <button onClick={() => this.pause()} type=\"button\" className=\"btn btn-primary m-2\">Pause</button>\r\n                ) : (\r\n                    <button onClick={() => this.resume()} type=\"button\" className=\"btn btn-primary m-2\">Autoplay</button>\r\n                  )}\r\n                <button onClick={() => this.clear()} type=\"button\" className=\"btn btn-primary m-2\">Clear</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}